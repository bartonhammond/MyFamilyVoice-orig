<div ng-init="init()" class="clearfix" style="margin-bottom: 20px">
 <script type="text/ng-template" id="myModalContentActivities.html">
      <div class="modal-header">
        <button type="button" class="close" ng-click="ok()">&times;</button>
        <h4 class="modal-title">{{modalData.comment}}</h4>
      </div>
      <div class="modal-body">
        <div ng-show="modalData" >
          <img class="center"  
               width="500"
               ng-src="{{modalData.photo._url}}"/>
          <span ng-show="modalData.file">
            <div style="vertical-align: top">Listen:</div>
            <audio ng-click="listened()"
                   ng-attr-src="{{modalData.file._url}}"
                   controls preload></audio> 
          </span>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="ok()">Close</button>
      </div>
</script>

  <div class="table-responsivie">
    <table class="table" style="margin-bottom: 0">
      <tr class="well well-sm">
        <td class="col-md-1">
          <img ng-src="{{user.get('thumbnail')._url}}"/>
        </td>
        <td class="col-md-11">
          <strong>Name:</strong> {{user.get('firstName')}}
          {{user.get('lastName')}}
          <span class="pull-right" 
                ng-if="doesUserHaveWriteAccess()">
            <button class="btn" ng-click="newQuestion()">New Question</button>
          </span>
          <br>
          <strong>Joined:</strong> {{user.createdAt | date:simple}}
          <br>
          <strong>Recordings:</strong> {{user.get('recordings')}}
          <br>
          <strong>Has listened to:</strong> {{user.get('viewed')}}
          <br>
          <strong>Has been heard:</strong> {{user.get('audioViews')}}
        </td>
      </tr>
    </table>
  </div>
</div>
<div class="table-responsive">
  <table class="table table-hover">
    <tr ng-repeat="activity in activities">
      <td class="col-md-1">
        <img ng-show="hasThumbnail($index)"
             ng-click="showModal($index)"
             style="cursor: pointer"
             ng-src="{{activity.thumbnail._url}}"/>
      </td>
      <td class="col-md-11">
        <strong>Created:</strong> {{activity.createdAt | date: simple}}
        <span class="pull-right">
          <button ng-if="activity.hasWriteAccess($index)"
                  class="btn" 
                  ng-click="edit(activity)">Edit</button>
          <button ng-if="isOwner($index)"
                  class="btn" 
                  ng-click="record(activity)">Record</button>
          <button ng-if="activity.hasWriteAccess($index)"
                  class="btn" 
                  ng-click="delete(activity)">Delete</button>
        </span>          
        <span ng-show="hasFile($index)">
          <br>
          <strong>Recorded:</strong> {{activity.recordedDate | date: simple}}
        </span>
        <br>
        <strong>Question:</strong>
        <span ng-bind-html="activity.comment"></span>
        <span ng-show="hasFile($index)"> 
          <br>
          <strong style="vertical-align: top">Listen:</strong>
          <audio ng-attr-src="{{activity.file._url}}" controls preload></audio> 
        </span>
        </span> 
        <span ng-show="activity.views">
          <br>
          <strong>Listened:</strong> {{activity.views}} times
        </span>
      </td>
    </tr>
  </table>
</div>
